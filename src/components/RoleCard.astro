---
interface Props {
    title: string
    mission: string
    responsibilities: string[]
    skills: string[]
    contribution?: string
    applyEmailHref: string
    discordHref: string
}

const {
    title,
    mission,
    responsibilities = [],
    skills = [],
    contribution = 'BÃ©nÃ©volat â€” participation flexible',
    applyEmailHref,
    discordHref,
} = Astro.props as Props
---

<article class="card hover-lift h-full flex flex-col">
    <div class="p-6 flex flex-col gap-4 flex-1">
        <header class="space-y-2">
            <h3 class="text-xl font-bold text-gray-900">{title}</h3>
            <p class="text-sm text-gray-600">{mission}</p>
        </header>

        <div class="mt-2 space-y-4 text-sm text-gray-700">
            <div>
                <h4 class="font-semibold text-gray-900 text-sm mb-1">Mission</h4>
                <p>{mission}</p>
            </div>

            {
                responsibilities.length > 0 && (
                    <div>
                        <h4 class="font-semibold text-gray-900 text-sm mb-1">ResponsabilitÃ©s clÃ©s</h4>
                        <ul class="list-disc list-inside space-y-1">
                            {responsibilities.slice(0, 3).map((item) => (
                                <li>{item}</li>
                            ))}
                        </ul>
                    </div>
                )
            }

            {
                skills.length > 0 && (
                    <div>
                        <h4 class="font-semibold text-gray-900 text-sm mb-1">CompÃ©tences</h4>
                        <ul class="flex flex-wrap gap-2">
                            {skills.slice(0, 5).map((skill) => (
                                <li class="px-3 py-1 rounded-full bg-gray-100 text-gray-800 text-xs font-medium">
                                    {skill}
                                </li>
                            ))}
                        </ul>
                    </div>
                )
            }

            <div>
                <h4 class="font-semibold text-gray-900 text-sm mb-1">Contribution</h4>
                <p class="text-sm text-gray-700">Contribution: {contribution}</p>
            </div>
        </div>
    </div>

    <div
        class="border-t border-gray-100 px-6 py-4 bg-gray-50 flex flex-col sm:flex-row gap-3 sm:justify-between sm:items-center">
        <p class="text-xs text-gray-500 mb-1 sm:mb-0">Postuler</p>
        <div class="flex flex-col sm:flex-row gap-2">
            <a
                href={applyEmailHref}
                class="btn btn-primary text-xs sm:text-sm px-4 py-2"
                aria-label={`Rejoindre lâ€™Ã©quipe comme ${title} â€” email`}>
                <span aria-hidden="true" class="mr-2">ðŸ“§</span>
                Rejoindre lâ€™Ã©quipe
            </a>
            <a
                href={discordHref}
                target="_blank"
                rel="noopener noreferrer"
                class="btn btn-secondary text-xs sm:text-sm px-4 py-2"
                aria-label={`Discuter du rÃ´le ${title} sur Discord`}>
                <span aria-hidden="true" class="mr-2">ðŸ’¬</span>
                Discord communautÃ©
            </a>
        </div>
    </div>
</article>
